## go-api-server ##
# Basic api server for CRUD operation in GO  <br>
## Technology ##
- Golang
- JWT Authentication
- Chi
- Cobra CLI
### Clone the Project in your Local Repository ##
```git clone https://github.com/Saleh7127/go-api-server``` <br>
## Running the server ##

Go to the api-server directory and run <br>
```go mod tidy; go mod vendor``` <br>
```go run . start``` or ```go run . start -p <choosen port>```

## Data model ##
<pre><code>
/* Info of a Football Player */

type Player struct {
	Name         string `json:"name"`   //player name
	Nationality  string `json:"nationality"`    //player nationality
	Club         string `json:"club"`   //in which club he/she is currently playing
	JerseyNumber int    `json:"jerseyNumber"`   //his/her current jersey number
	Stats        Stats  `json:"stats"`  //structure for Goals in different competition
}

/* Goals stats of a PLayer */

type Stats struct {
	NationalGoal        int `json:"nationalGoal"`        //national team goal
	LeagueGoal          int `json:"leagueGoal"`          //current league goal
	ChampionsLeagueGoal int `json:"championsLeagueGoal"` //champions league goal
}

</code></pre>

## List of api calls ##

| Method |                    url                    | payload | actions                                  |
|--------|:-----------------------------------------:|--------:|------------------------------------------|
| GET    |       ```http://localhost:8080/```        |      No | Call home page and get new token         |
| GET    |    ```http://localhost:8080/players```    |      No | Call all the players exist in data model |
| GET    | ```http://localhost:8080/player/{name}``` |      No | Call by a specific player name           |
| POST   |  ```http://localhost:8080/players/new```  |     Yes | Add new player to the data base          |
| PUT    | ```http://localhost:8080/update/{name}``` |     Yes | Update a specific player by calling name |
| DELETE | ```http://localhost:8080/delete/{name}``` |      No | Delete a specific player by calling name |

## CURL Query ##

Example: <br>

Token Flag: -H "Authorization:Bearer <JWT Token(Header.Payload.Signature)>"

GET : curl -X GET http://localhost:7127/players
POST : curl -X POST http://localhost:7127/players/new -d ' < new data > '
PUT : curl -X POST http://localhost:7127/update/{name} -d ' < updated data > '

## CAUTIONS ##
- All the api call is authorized by JWT token. So we need to pass token as a valid "token" header while calling methods (except for homepage request) by postman or curl.
- A token can be generated by call homepage initially.